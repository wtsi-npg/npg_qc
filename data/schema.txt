-- MySQL dump 10.13  Distrib 5.5.41, for debian-linux-gnu (x86_64)
--
-- Host: nqct-db    Database: npgqct
-- ------------------------------------------------------
-- Server version	5.5.31-log

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `adapter`
--

DROP TABLE IF EXISTS `adapter`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `adapter` (
  `id_adapter` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `path` varchar(256) DEFAULT NULL,
  `forward_read_filename` varchar(256) DEFAULT NULL,
  `reverse_read_filename` varchar(256) DEFAULT NULL,
  `forward_fasta_read_count` int(10) unsigned DEFAULT NULL,
  `forward_contaminated_read_count` int(10) unsigned DEFAULT NULL,
  `forward_blat_hash` text,
  `forward_start_counts` text,
  `reverse_fasta_read_count` int(10) unsigned DEFAULT NULL,
  `reverse_contaminated_read_count` int(10) unsigned DEFAULT NULL,
  `reverse_blat_hash` text,
  `reverse_start_counts` text,
  `pass` tinyint(1) DEFAULT NULL,
  `comments` text,
  `info` text,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  PRIMARY KEY (`id_adapter`),
  UNIQUE KEY `unq_run_lane_adapter` (`id_run`,`position`,`tag_index`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `alignment_filter_metrics`
--

DROP TABLE IF EXISTS `alignment_filter_metrics`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `alignment_filter_metrics` (
  `id_alignment_filter_metrics` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  `path` varchar(256) DEFAULT NULL,
  `comments` text,
  `info` text,
  `all_metrics` text,
  PRIMARY KEY (`id_alignment_filter_metrics`),
  UNIQUE KEY `unq_run_lane_afmetrics` (`id_run`,`position`,`tag_index`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `analysis`
--

DROP TABLE IF EXISTS `analysis`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `analysis` (
  `id_analysis` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL DEFAULT '0',
  `end` char(1) NOT NULL,
  `date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `folder` varchar(255) NOT NULL DEFAULT '',
  `iscurrent` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id_analysis`),
  KEY `id_run` (`id_run`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `analysis_lane`
--

DROP TABLE IF EXISTS `analysis_lane`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `analysis_lane` (
  `id_analysis_lane` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_analysis` bigint(20) unsigned NOT NULL DEFAULT '0',
  `id_run` bigint(20) unsigned NOT NULL DEFAULT '0',
  `end` char(1) NOT NULL,
  `position` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `tile_count` bigint(20) unsigned NOT NULL DEFAULT '0',
  `align_score_pf` float unsigned NOT NULL DEFAULT '0',
  `align_score_pf_err` float unsigned NOT NULL DEFAULT '0',
  `clusters_pf` float unsigned NOT NULL DEFAULT '0',
  `clusters_pf_err` float unsigned NOT NULL DEFAULT '0',
  `clusters_raw` float unsigned NOT NULL DEFAULT '0',
  `clusters_raw_err` float unsigned NOT NULL DEFAULT '0',
  `clusters_tilemean_raw` float unsigned NOT NULL DEFAULT '0',
  `cycle1_int_pf` float unsigned NOT NULL DEFAULT '0',
  `cycle1_int_pf_err` float unsigned NOT NULL DEFAULT '0',
  `cycle20_perc_int` float unsigned NOT NULL DEFAULT '0',
  `cycle20_perc_int_err` float unsigned NOT NULL DEFAULT '0',
  `cycle_10_20_av_perc_loss_pf` float NOT NULL DEFAULT '0',
  `cycle_10_20_av_perc_loss_pf_err` float unsigned NOT NULL DEFAULT '0',
  `cycle_2_10_av_perc_loss_pf` float NOT NULL DEFAULT '0',
  `cycle_2_10_av_perc_loss_pf_err` float unsigned NOT NULL DEFAULT '0',
  `cycle_2_4_av_int_pf` float unsigned NOT NULL DEFAULT '0',
  `cycle_2_4_av_int_pf_err` float unsigned NOT NULL DEFAULT '0',
  `equiv_perfect_clusters_pf` float unsigned NOT NULL DEFAULT '0',
  `equiv_perfect_clusters_raw` float unsigned NOT NULL DEFAULT '0',
  `error_rate_pf` float unsigned NOT NULL DEFAULT '0',
  `error_rate_pf_err` float unsigned NOT NULL DEFAULT '0',
  `lane_yield` float unsigned NOT NULL DEFAULT '0',
  `perc_align_pf` float unsigned NOT NULL DEFAULT '0',
  `perc_align_pf2` float unsigned NOT NULL DEFAULT '0',
  `perc_align_pf_err` float unsigned NOT NULL DEFAULT '0',
  `perc_clusters_pf` float unsigned NOT NULL DEFAULT '0',
  `perc_clusters_pf_err` float unsigned NOT NULL DEFAULT '0',
  `perc_error_rate_pf` float unsigned NOT NULL DEFAULT '0',
  `perc_error_rate_raw` float unsigned NOT NULL DEFAULT '0',
  `perc_phasing` float unsigned NOT NULL DEFAULT '0',
  `perc_prephasing` float unsigned NOT NULL DEFAULT '0',
  `perc_retained` float unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id_analysis_lane`),
  UNIQUE KEY `unq_al_lane` (`id_analysis`,`position`),
  KEY `al_id_analysis` (`id_analysis`),
  KEY `id_run` (`id_run`),
  KEY `position` (`position`),
  CONSTRAINT `al_id_analysis` FOREIGN KEY (`id_analysis`) REFERENCES `analysis` (`id_analysis`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `analysis_lane_qcal`
--

DROP TABLE IF EXISTS `analysis_lane_qcal`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `analysis_lane_qcal` (
  `id_analysis_lane_qcal` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_analysis_lane` bigint(20) unsigned NOT NULL DEFAULT '0',
  `chastity` float DEFAULT NULL,
  `qv` int(11) NOT NULL DEFAULT '0',
  `cum_error` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT 'cumulative error >= qv',
  `cum_bases` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT 'cumulative bases >= qv',
  `cum_perc_error` float unsigned NOT NULL DEFAULT '0' COMMENT 'cumulative percentage error >=qv',
  `cum_perc_total` float unsigned NOT NULL DEFAULT '0' COMMENT 'cumulative percentage total >= qv',
  `error` bigint(20) unsigned NOT NULL DEFAULT '0',
  `bases` bigint(20) unsigned NOT NULL DEFAULT '0',
  `perc_error` float unsigned NOT NULL DEFAULT '0',
  `perc_total` float unsigned NOT NULL DEFAULT '0',
  `exp_perc_error` float unsigned NOT NULL DEFAULT '0' COMMENT 'expected percentage error',
  PRIMARY KEY (`id_analysis_lane_qcal`),
  KEY `alq_id_analysis_lane` (`id_analysis_lane`),
  CONSTRAINT `alq_id_analysis_lane` FOREIGN KEY (`id_analysis_lane`) REFERENCES `analysis_lane` (`id_analysis_lane`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bam_flagstats`
--

DROP TABLE IF EXISTS `bam_flagstats`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bam_flagstats` (
  `id_bam_flagstats` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  `path` varchar(256) DEFAULT NULL,
  `human_split` varchar(10) DEFAULT 'all',
  `subset` varchar(10) NOT NULL DEFAULT 'target',
  `library` varchar(256) DEFAULT NULL,
  `unpaired_mapped_reads` bigint(20) unsigned DEFAULT NULL,
  `paired_mapped_reads` bigint(20) unsigned DEFAULT NULL,
  `unmapped_reads` bigint(20) unsigned DEFAULT NULL,
  `unpaired_read_duplicates` bigint(20) unsigned DEFAULT NULL,
  `paired_read_duplicates` bigint(20) unsigned DEFAULT NULL,
  `read_pair_optical_duplicates` bigint(20) unsigned DEFAULT NULL,
  `percent_duplicate` float(5,2) DEFAULT NULL,
  `library_size` bigint(20) unsigned DEFAULT NULL,
  `histogram` text,
  `proper_mapped_pair` bigint(20) unsigned DEFAULT NULL,
  `mate_mapped_defferent_chr` bigint(20) unsigned DEFAULT NULL,
  `mate_mapped_defferent_chr_5` bigint(20) unsigned DEFAULT NULL,
  `pass` tinyint(1) DEFAULT NULL,
  `comments` text,
  `info` text,
  `num_total_reads` bigint(20) unsigned DEFAULT NULL,
  `read_pairs_examined` bigint(20) unsigned DEFAULT NULL,
  PRIMARY KEY (`id_bam_flagstats`),
  UNIQUE KEY `unq_run_lane_index_sp_flag` (`id_run`,`position`,`tag_index`,`human_split`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES' */ ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `cache_query`
--

DROP TABLE IF EXISTS `cache_query`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `cache_query` (
  `id_cache_query` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `cache_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ssha_sql` char(28) NOT NULL,
  `id_run` bigint(20) unsigned NOT NULL,
  `end` tinyint(1) unsigned NOT NULL,
  `type` varchar(20) NOT NULL,
  `results` mediumtext NOT NULL,
  `is_current` tinyint(1) unsigned NOT NULL DEFAULT '1',
  PRIMARY KEY (`id_cache_query`),
  KEY `idx_cq_idrun_type_end_is_current` (`id_run`,`type`,`end`,`is_current`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COMMENT='InnoDB free: 104061952 kB';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `chip_summary`
--

DROP TABLE IF EXISTS `chip_summary`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `chip_summary` (
  `id_chip_summary` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `chip_id` tinytext,
  `clusters` bigint(20) unsigned DEFAULT '0',
  `clusters_pf` bigint(20) unsigned DEFAULT '0',
  `yield_kb` bigint(20) unsigned DEFAULT NULL,
  `paired` tinyint(1) unsigned DEFAULT '0',
  `machine` tinytext,
  PRIMARY KEY (`id_chip_summary`),
  UNIQUE KEY `unq_idx_cs_idrun` (`id_run`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `cluster_density`
--

DROP TABLE IF EXISTS `cluster_density`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `cluster_density` (
  `id_cluster_density` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `is_pf` tinyint(1) NOT NULL,
  `min` double(12,3) unsigned DEFAULT NULL,
  `max` double(12,3) unsigned DEFAULT NULL,
  `p50` double(12,3) unsigned DEFAULT NULL,
  PRIMARY KEY (`id_cluster_density`),
  UNIQUE KEY `unq_idx_cluster_density` (`id_run`,`position`,`is_pf`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `contamination`
--

DROP TABLE IF EXISTS `contamination`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `contamination` (
  `id_contamination` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `path` varchar(256) DEFAULT NULL,
  `aligner_version` varchar(50) DEFAULT NULL,
  `reference_version` varchar(50) DEFAULT NULL,
  `genome_factor` text,
  `contaminant_count` text,
  `read_count` bigint(20) unsigned NOT NULL,
  `pass` tinyint(1) DEFAULT NULL,
  `comments` text,
  `info` text,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  PRIMARY KEY (`id_contamination`),
  UNIQUE KEY `unq_run_lane_contamination` (`id_run`,`position`,`tag_index`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `cumulative_errors_by_cycle`
--

DROP TABLE IF EXISTS `cumulative_errors_by_cycle`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `cumulative_errors_by_cycle` (
  `id_cumulative_errors_by_cycle` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run_tile` bigint(20) unsigned NOT NULL,
  `cycle` smallint(5) unsigned NOT NULL,
  `one` mediumint(8) unsigned NOT NULL DEFAULT '0',
  `two` mediumint(8) unsigned NOT NULL DEFAULT '0',
  `three` mediumint(8) unsigned NOT NULL DEFAULT '0',
  `four` mediumint(8) unsigned NOT NULL DEFAULT '0',
  `five` mediumint(8) unsigned NOT NULL DEFAULT '0',
  `rescore` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id_cumulative_errors_by_cycle`),
  UNIQUE KEY `unq_idx_rt_cycle_rescore` (`id_run_tile`,`rescore`,`cycle`) USING BTREE,
  KEY `tscebc_rt` (`id_run_tile`),
  CONSTRAINT `tscebc_rt` FOREIGN KEY (`id_run_tile`) REFERENCES `run_tile` (`id_run_tile`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='InnoDB free: 97209344 kB; (`id_run_tile`) REFER `npgqcp/run_';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `error_rate_reference_including_blanks`
--

DROP TABLE IF EXISTS `error_rate_reference_including_blanks`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `error_rate_reference_including_blanks` (
  `id_error_rate_reference_including_blanks` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run_tile` bigint(20) unsigned NOT NULL,
  `really` char(1) NOT NULL,
  `read_as_blank` float(5,2) unsigned NOT NULL DEFAULT '0.00',
  `read_as_a` float(5,2) unsigned NOT NULL DEFAULT '0.00',
  `read_as_c` float(5,2) unsigned NOT NULL DEFAULT '0.00',
  `read_as_g` float(5,2) unsigned NOT NULL DEFAULT '0.00',
  `read_as_t` float(5,2) unsigned NOT NULL DEFAULT '0.00',
  `rescore` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id_error_rate_reference_including_blanks`),
  UNIQUE KEY `unq_idx_errib_idrt_really_rescore` (`id_run_tile`,`rescore`,`really`) USING BTREE,
  KEY `tserrrib_rt` (`id_run_tile`),
  CONSTRAINT `tserrrib_rt` FOREIGN KEY (`id_run_tile`) REFERENCES `run_tile` (`id_run_tile`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `error_rate_reference_no_blanks`
--

DROP TABLE IF EXISTS `error_rate_reference_no_blanks`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `error_rate_reference_no_blanks` (
  `id_error_rate_reference_no_blanks` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run_tile` bigint(20) unsigned NOT NULL,
  `really` char(1) NOT NULL,
  `read_as_a` float(5,2) unsigned NOT NULL DEFAULT '0.00',
  `read_as_c` float(5,2) unsigned NOT NULL DEFAULT '0.00',
  `read_as_g` float(5,2) unsigned NOT NULL DEFAULT '0.00',
  `read_as_t` float(5,2) unsigned NOT NULL DEFAULT '0.00',
  `rescore` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id_error_rate_reference_no_blanks`),
  UNIQUE KEY `unq_idx_errnb_rt_really_rescore` (`id_run_tile`,`rescore`,`really`) USING BTREE,
  KEY `tserrnb_rt` (`id_run_tile`),
  CONSTRAINT `tserrnb_rt` FOREIGN KEY (`id_run_tile`) REFERENCES `run_tile` (`id_run_tile`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `error_rate_relative_reference_cycle_nucleotide`
--

DROP TABLE IF EXISTS `error_rate_relative_reference_cycle_nucleotide`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `error_rate_relative_reference_cycle_nucleotide` (
  `id_error_rate_relative_reference_cycle_nucleotide` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run_tile` bigint(20) unsigned NOT NULL,
  `cycle` smallint(5) unsigned NOT NULL,
  `read_as` char(1) DEFAULT NULL,
  `really_a` float(4,3) unsigned zerofill NOT NULL DEFAULT '0.000',
  `really_c` float(4,3) unsigned zerofill NOT NULL DEFAULT '0.000',
  `really_g` float(4,3) unsigned zerofill NOT NULL DEFAULT '0.000',
  `really_t` float(4,3) unsigned zerofill NOT NULL DEFAULT '0.000',
  `rescore` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id_error_rate_relative_reference_cycle_nucleotide`),
  UNIQUE KEY `unq_idx_errrcn_rt_cycle_readas_rescore` (`id_run_tile`,`rescore`,`cycle`,`read_as`),
  KEY `tserrrcn_rt` (`id_run_tile`),
  CONSTRAINT `tserrrcn_rt` FOREIGN KEY (`id_run_tile`) REFERENCES `run_tile` (`id_run_tile`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `error_rate_relative_sequence_base`
--

DROP TABLE IF EXISTS `error_rate_relative_sequence_base`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `error_rate_relative_sequence_base` (
  `id_error_rate_relative_sequence_base` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run_tile` bigint(20) unsigned NOT NULL,
  `read_as` char(1) DEFAULT NULL,
  `really_a` float(5,2) unsigned NOT NULL DEFAULT '0.00',
  `really_c` float(5,2) unsigned NOT NULL DEFAULT '0.00',
  `really_g` float(5,2) unsigned NOT NULL DEFAULT '0.00',
  `really_t` float(5,2) unsigned NOT NULL DEFAULT '0.00',
  `rescore` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id_error_rate_relative_sequence_base`),
  UNIQUE KEY `unq_idx_err_seqbase_rt_read_rescore` (`id_run_tile`,`rescore`,`read_as`) USING BTREE,
  KEY `tserrsb_rt` (`id_run_tile`),
  CONSTRAINT `tserrsb_rt` FOREIGN KEY (`id_run_tile`) REFERENCES `run_tile` (`id_run_tile`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `errors_by_cycle`
--

DROP TABLE IF EXISTS `errors_by_cycle`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `errors_by_cycle` (
  `id_errors_by_cycle` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run_tile` bigint(20) unsigned NOT NULL,
  `cycle` smallint(5) unsigned NOT NULL,
  `error_percentage` float(5,2) unsigned NOT NULL DEFAULT '0.00',
  `blank_percentage` float(5,2) unsigned NOT NULL DEFAULT '0.00',
  `rescore` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id_errors_by_cycle`),
  UNIQUE KEY `unq_idx_err_cycle_rt_cycle_rescore` (`id_run_tile`,`rescore`,`cycle`) USING BTREE,
  KEY `tsebc_rt` (`id_run_tile`),
  CONSTRAINT `tsebc_rt` FOREIGN KEY (`id_run_tile`) REFERENCES `run_tile` (`id_run_tile`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `errors_by_cycle_and_nucleotide`
--

DROP TABLE IF EXISTS `errors_by_cycle_and_nucleotide`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `errors_by_cycle_and_nucleotide` (
  `id_errors_by_cycle_and_nucleotide` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run_tile` bigint(20) unsigned NOT NULL,
  `cycle` smallint(5) unsigned NOT NULL,
  `read_as` char(1) DEFAULT NULL,
  `really_a` int(10) unsigned NOT NULL DEFAULT '0',
  `really_c` int(10) unsigned NOT NULL DEFAULT '0',
  `really_g` int(10) unsigned NOT NULL DEFAULT '0',
  `really_t` int(10) unsigned NOT NULL DEFAULT '0',
  `rescore` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id_errors_by_cycle_and_nucleotide`),
  UNIQUE KEY `unq_idx_err_cycle_nuc_rt_cycle_read` (`id_run_tile`,`rescore`,`cycle`,`read_as`) USING BTREE,
  KEY `tsebcan_rt` (`id_run_tile`),
  CONSTRAINT `tsebcan_rt` FOREIGN KEY (`id_run_tile`) REFERENCES `run_tile` (`id_run_tile`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `errors_by_nucleotide`
--

DROP TABLE IF EXISTS `errors_by_nucleotide`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `errors_by_nucleotide` (
  `id_errors_by_nucleotide` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run_tile` bigint(20) unsigned NOT NULL,
  `read_as` char(1) DEFAULT NULL,
  `really_a` int(10) unsigned NOT NULL DEFAULT '0',
  `really_c` int(10) unsigned NOT NULL DEFAULT '0',
  `really_g` int(10) unsigned NOT NULL DEFAULT '0',
  `really_t` int(10) unsigned NOT NULL DEFAULT '0',
  `rescore` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id_errors_by_nucleotide`),
  UNIQUE KEY `unq_idx_err_nuc_rt_read_rescore` (`id_run_tile`,`rescore`,`read_as`) USING BTREE,
  KEY `tseby_rt` (`id_run_tile`),
  CONSTRAINT `tseby_rt` FOREIGN KEY (`id_run_tile`) REFERENCES `run_tile` (`id_run_tile`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `fastqcheck`
--

DROP TABLE IF EXISTS `fastqcheck`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `fastqcheck` (
  `id_fastqcheck` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` mediumint(8) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `tag_index` mediumint(9) NOT NULL DEFAULT '-1',
  `section` varchar(10) NOT NULL,
  `split` varchar(10) NOT NULL DEFAULT 'none',
  `file_name` varchar(255) NOT NULL,
  `file_content` mediumtext,
  `file_content_compressed` blob,
  `twenty` bigint(20) unsigned DEFAULT NULL,
  `twentyfive` bigint(20) unsigned DEFAULT NULL,
  `thirty` bigint(20) unsigned DEFAULT NULL,
  `thirtyfive` bigint(20) unsigned DEFAULT NULL,
  `forty` bigint(20) unsigned DEFAULT NULL,
  PRIMARY KEY (`id_fastqcheck`),
  UNIQUE KEY `unique_ind_file_ids_fastqcheck` (`id_run`,`position`,`tag_index`,`section`,`split`),
  UNIQUE KEY `unique_ind_file_name_fastqcheck` (`file_name`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `frequency_response_matrix`
--

DROP TABLE IF EXISTS `frequency_response_matrix`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `frequency_response_matrix` (
  `id_frequency_response_matrix` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `cycle` smallint(5) unsigned NOT NULL,
  `lane` tinyint(1) unsigned NOT NULL,
  `base` char(1) NOT NULL,
  `red1` float(5,2) NOT NULL,
  `red2` float(5,2) NOT NULL,
  `green1` float(5,2) NOT NULL,
  `green2` float(5,2) NOT NULL,
  PRIMARY KEY (`id_frequency_response_matrix`),
  UNIQUE KEY `unq_idx_run_lane_base` (`id_run`,`cycle`,`lane`,`base`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gc_bias`
--

DROP TABLE IF EXISTS `gc_bias`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gc_bias` (
  `id_gc_bias` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `path` varchar(256) DEFAULT NULL,
  `pass` tinyint(1) DEFAULT NULL,
  `comments` text,
  `info` text,
  `max_y` float unsigned DEFAULT NULL,
  `window_count` bigint(20) unsigned DEFAULT NULL,
  `window_size` bigint(20) unsigned DEFAULT NULL,
  `bin_count` bigint(20) unsigned DEFAULT NULL,
  `actual_quantile_x` text,
  `actual_quantile_y` text,
  `gc_lines` text,
  `plot_x` text,
  `plot_y` text,
  `ideal_lower_quantile` text,
  `ideal_upper_quantile` text,
  `cached_plot` text,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  PRIMARY KEY (`id_gc_bias`),
  UNIQUE KEY `unq_run_lane_gc_bias` (`id_run`,`position`,`tag_index`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gc_fraction`
--

DROP TABLE IF EXISTS `gc_fraction`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gc_fraction` (
  `id_gc_fraction` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `path` varchar(256) DEFAULT NULL,
  `forward_read_filename` varchar(256) DEFAULT NULL,
  `reverse_read_filename` varchar(256) DEFAULT NULL,
  `forward_read_gc_percent` float unsigned DEFAULT NULL,
  `reverse_read_gc_percent` float unsigned DEFAULT NULL,
  `ref_gc_percent` float unsigned DEFAULT NULL,
  `threshold_difference` tinyint(3) unsigned DEFAULT NULL,
  `ref_count_path` varchar(256) DEFAULT NULL,
  `pass` tinyint(1) DEFAULT NULL,
  `comments` text,
  `info` text,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  PRIMARY KEY (`id_gc_fraction`),
  UNIQUE KEY `unq_run_lane_gc_fraction` (`id_run`,`position`,`tag_index`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `genotype`
--

DROP TABLE IF EXISTS `genotype`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `genotype` (
  `id_genotype` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `path` varchar(256) DEFAULT NULL,
  `expected_sample_name` varchar(64) DEFAULT NULL,
  `search_parameters` text,
  `sample_name_match` text,
  `sample_name_relaxed_match` text,
  `alternate_matches` text,
  `alternate_match_count` int(11) NOT NULL DEFAULT '0',
  `alternate_relaxed_matches` text,
  `alternate_relaxed_match_count` int(11) NOT NULL DEFAULT '0',
  `pass` tinyint(1) DEFAULT NULL,
  `comments` text,
  `info` text,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  `snp_call_set` varchar(32) NOT NULL DEFAULT 'UNSPECIFIED',
  `genotype_data_set` varchar(64) DEFAULT NULL,
  `bam_file` varchar(64) DEFAULT NULL,
  `bam_file_md5` varchar(64) DEFAULT NULL,
  `reference` varchar(128) DEFAULT NULL,
  `bam_call_count` int(11) NOT NULL DEFAULT '0',
  `bam_call_string` varchar(256) DEFAULT NULL,
  `bam_gt_depths_string` varchar(512) DEFAULT NULL,
  `bam_gt_likelihood_string` varchar(2048) DEFAULT NULL,
  PRIMARY KEY (`id_genotype`),
  UNIQUE KEY `unq_run_lane_genotype` (`id_run`,`position`,`tag_index`,`snp_call_set`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `image_store`
--

DROP TABLE IF EXISTS `image_store`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `image_store` (
  `id_image_store` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `type` varchar(20) NOT NULL,
  `thumbnail` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `image` blob NOT NULL,
  `image_name` varchar(50) NOT NULL,
  `id_run` bigint(20) unsigned NOT NULL,
  `suffix` varchar(5) NOT NULL,
  PRIMARY KEY (`id_image_store`),
  UNIQUE KEY `unq_idx_rt_type_thbnl_in` (`id_run`,`type`,`thumbnail`,`image_name`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `information_content_by_cycle`
--

DROP TABLE IF EXISTS `information_content_by_cycle`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `information_content_by_cycle` (
  `id_information_content_by_cycle` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run_tile` bigint(20) unsigned NOT NULL,
  `cycle` smallint(5) unsigned NOT NULL,
  `equiv_info` float(10,2) unsigned NOT NULL DEFAULT '0.00',
  `align` int(10) unsigned NOT NULL DEFAULT '0',
  `total` int(10) unsigned NOT NULL DEFAULT '0',
  `rescore` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id_information_content_by_cycle`),
  UNIQUE KEY `unq_idx_info_cycle_rt_cycle_rescore` (`id_run_tile`,`rescore`,`cycle`) USING BTREE,
  KEY `tsicbc_rt` (`id_run_tile`),
  CONSTRAINT `tsicbc_rt` FOREIGN KEY (`id_run_tile`) REFERENCES `run_tile` (`id_run_tile`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='bases so far should be calculated';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `insert_size`
--

DROP TABLE IF EXISTS `insert_size`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `insert_size` (
  `id_insert_size` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `path` varchar(256) DEFAULT NULL,
  `filenames` varchar(256) DEFAULT NULL,
  `bins` text,
  `bin_width` int(10) unsigned DEFAULT NULL,
  `min_isize` int(10) unsigned DEFAULT NULL,
  `expected_mean` int(10) unsigned DEFAULT NULL,
  `mean` int(10) unsigned DEFAULT NULL,
  `std` int(10) unsigned DEFAULT NULL,
  `sample_size` int(10) unsigned DEFAULT NULL,
  `paired_reads_direction_in` tinyint(1) DEFAULT '1',
  `num_well_aligned_reads` int(10) unsigned DEFAULT NULL,
  `num_well_aligned_reads_opp_dir` int(10) unsigned DEFAULT NULL,
  `quartile1` int(10) unsigned DEFAULT NULL,
  `median` int(10) unsigned DEFAULT NULL,
  `quartile3` int(10) unsigned DEFAULT NULL,
  `expected_size` varchar(256) DEFAULT NULL,
  `reference` varchar(256) DEFAULT NULL,
  `pass` tinyint(1) DEFAULT NULL,
  `comments` text,
  `info` text,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  `norm_fit_nmode` int(10) unsigned DEFAULT NULL,
  `norm_fit_confidence` float DEFAULT NULL,
  `norm_fit_pass` tinyint(1) DEFAULT NULL,
  `norm_fit_modes` text,
  PRIMARY KEY (`id_insert_size`),
  UNIQUE KEY `unq_run_lane_insert_size` (`id_run`,`position`,`tag_index`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `instrument_statistics`
--

DROP TABLE IF EXISTS `instrument_statistics`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `instrument_statistics` (
  `id_instrument_statistics` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `end` tinyint(1) unsigned NOT NULL,
  `id_run_actual` bigint(20) unsigned NOT NULL,
  `instrument` tinytext NOT NULL,
  `num_tile_low_cluster` smallint(5) unsigned DEFAULT NULL,
  `num_tile_high_cluster` smallint(5) unsigned DEFAULT NULL,
  `num_tile_high_intensity` smallint(5) unsigned DEFAULT NULL,
  `num_tile_low_intensity` smallint(5) unsigned DEFAULT NULL,
  `num_tile_high_error` smallint(5) unsigned DEFAULT NULL,
  `num_tile_movez_out` smallint(5) unsigned DEFAULT NULL,
  PRIMARY KEY (`id_instrument_statistics`),
  UNIQUE KEY `idx_id_run_end` (`id_run`,`end`),
  KEY `instrument_idx` (`instrument`(5))
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `lane_qc`
--

DROP TABLE IF EXISTS `lane_qc`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `lane_qc` (
  `id_lane_qc` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run_tile` bigint(20) unsigned NOT NULL,
  `end` char(1) NOT NULL,
  `clusters_raw` int(10) unsigned NOT NULL,
  `av_1st_cycle_int_pf` float(6,2) NOT NULL,
  `av_perc_intensity_after_20_cycles_pf` float(5,2) NOT NULL,
  `perc_pf_clusters` float(5,2) NOT NULL,
  `perc_align_pf` float(5,2) DEFAULT NULL,
  `av_alignment_score_pf` float(5,2) DEFAULT NULL,
  `perc_error_rate_pf` float(5,2) DEFAULT NULL,
  PRIMARY KEY (`id_lane_qc`),
  UNIQUE KEY `unq_idx_lqc_rt_end` (`id_run_tile`,`end`),
  KEY `lqrt` (`id_run_tile`),
  CONSTRAINT `lqrt` FOREIGN KEY (`id_run_tile`) REFERENCES `run_tile` (`id_run_tile`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `log_likelihood`
--

DROP TABLE IF EXISTS `log_likelihood`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `log_likelihood` (
  `id_log_likelihood` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run_tile` bigint(20) unsigned NOT NULL,
  `cycle` smallint(5) unsigned NOT NULL,
  `read_as` char(1) DEFAULT NULL,
  `really_a` smallint(4) NOT NULL,
  `really_c` smallint(4) NOT NULL,
  `really_g` smallint(4) NOT NULL,
  `really_t` smallint(4) NOT NULL,
  `rescore` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id_log_likelihood`),
  UNIQUE KEY `unq_idx_llh_rt_rescore_cycle_readas` (`id_run_tile`,`rescore`,`cycle`,`read_as`),
  KEY `tsll_rt` (`id_run_tile`),
  CONSTRAINT `tsll_rt` FOREIGN KEY (`id_run_tile`) REFERENCES `run_tile` (`id_run_tile`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `most_common_blank_pattern`
--

DROP TABLE IF EXISTS `most_common_blank_pattern`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `most_common_blank_pattern` (
  `id_most_common_blank_pattern` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run_tile` bigint(20) unsigned NOT NULL,
  `rank` tinyint(2) unsigned NOT NULL DEFAULT '1',
  `occurrence` mediumint(8) unsigned NOT NULL DEFAULT '1',
  `pattern` varchar(255) DEFAULT NULL,
  `number_of_sequences` mediumint(8) unsigned NOT NULL DEFAULT '1' COMMENT 'Should include all sequence at this rank, if multiple pattern entries',
  `rescore` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id_most_common_blank_pattern`),
  KEY `tsmcbp_rt` (`id_run_tile`),
  CONSTRAINT `tsmcbp_rt` FOREIGN KEY (`id_run_tile`) REFERENCES `run_tile` (`id_run_tile`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='N=any non-blank character';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `most_common_word`
--

DROP TABLE IF EXISTS `most_common_word`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `most_common_word` (
  `id_most_common_word` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run_tile` bigint(20) unsigned NOT NULL,
  `rank` tinyint(2) unsigned NOT NULL DEFAULT '1',
  `occurrence` mediumint(8) unsigned NOT NULL DEFAULT '1',
  `word` varchar(255) DEFAULT NULL,
  `number_of_sequences` mediumint(8) unsigned NOT NULL DEFAULT '1' COMMENT 'Should include all sequence at this rank, if multiple word entries',
  `rescore` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id_most_common_word`),
  KEY `tsmcw_rt` (`id_run_tile`),
  CONSTRAINT `tsmcw_rt` FOREIGN KEY (`id_run_tile`) REFERENCES `run_tile` (`id_run_tile`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='two or less blanks';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `move_z`
--

DROP TABLE IF EXISTS `move_z`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `move_z` (
  `id_move_z` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run_tile` bigint(20) unsigned NOT NULL,
  `cycle` smallint(5) unsigned NOT NULL,
  `currentz` smallint(6) NOT NULL,
  `targetz` smallint(6) NOT NULL,
  `newz` smallint(6) NOT NULL,
  `start` bigint(20) NOT NULL,
  `stop` bigint(20) NOT NULL,
  `move` tinyint(1) unsigned NOT NULL,
  PRIMARY KEY (`id_move_z`),
  UNIQUE KEY `unq_idx_movez_rt_cycle` (`id_run_tile`,`cycle`),
  KEY `mz_rt` (`id_run_tile`),
  CONSTRAINT `mz_rt` FOREIGN KEY (`id_run_tile`) REFERENCES `run_tile` (`id_run_tile`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `mqc_outcome_dict`
--

DROP TABLE IF EXISTS `mqc_outcome_dict`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `mqc_outcome_dict` (
  `id_mqc_outcome` smallint(5) unsigned NOT NULL AUTO_INCREMENT,
  `short_desc` varchar(50) NOT NULL,
  `long_desc` varchar(150) DEFAULT NULL,
  `iscurrent` tinyint(1) DEFAULT NULL COMMENT 'Catalog value still in use.',
  `isvisible` tinyint(1) DEFAULT NULL COMMENT 'Is it visible in UI',
  PRIMARY KEY (`id_mqc_outcome`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `mqc_outcome_ent`
--

DROP TABLE IF EXISTS `mqc_outcome_ent`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `mqc_outcome_ent` (
  `id_mqc_outcome_ent` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(3) unsigned NOT NULL COMMENT 'Lane',
  `id_mqc_outcome` smallint(5) unsigned NOT NULL,
  `username` char(128) DEFAULT NULL COMMENT 'Web interface username',
  `last_modified` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `modified_by` char(128) DEFAULT NULL COMMENT 'Last user to modify the row',
  `reported` timestamp NULL DEFAULT NULL COMMENT 'When was reported to LIMS',
  PRIMARY KEY (`id_mqc_outcome_ent`),
  UNIQUE KEY `id_run_UNIQUE` (`id_run`,`position`),
  KEY `fk_mqc_outcome_ent_mqc_outcome_dict1_idx` (`id_mqc_outcome`),
  CONSTRAINT `fk_mqc_outcome_ent_mqc_outcome_dict1` FOREIGN KEY (`id_mqc_outcome`) REFERENCES `mqc_outcome_dict` (`id_mqc_outcome`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB  DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `mqc_outcome_hist`
--

DROP TABLE IF EXISTS `mqc_outcome_hist`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `mqc_outcome_hist` (
  `id_mqc_outcome_hist` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(3) unsigned NOT NULL COMMENT 'Lane',
  `id_mqc_outcome` smallint(5) unsigned NOT NULL,
  `username` char(128) DEFAULT NULL COMMENT 'Web interface username',
  `last_modified` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `modified_by` char(128) DEFAULT NULL COMMENT 'Last user to modify the row',
  PRIMARY KEY (`id_mqc_outcome_hist`),
  KEY `fk_mqc_outcome_hist_mqc_outcome_dict1_idx` (`id_mqc_outcome`),
  CONSTRAINT `fk_mqc_outcome_ent_mqc_outcome_dict10` FOREIGN KEY (`id_mqc_outcome`) REFERENCES `mqc_outcome_dict` (`id_mqc_outcome`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB  DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `mqc_library_outcome_ent`
--

DROP TABLE IF EXISTS `mqc_library_outcome_ent`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `mqc_library_outcome_ent` (
  `id_mqc_library_outcome_ent` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `id_run` BIGINT(20) UNSIGNED NOT NULL,
  `position` TINYINT(3) UNSIGNED NOT NULL COMMENT 'Lane',
  `tag_index` BIGINT(20) NOT NULL DEFAULT '-1',
  `id_mqc_outcome` SMALLINT UNSIGNED NOT NULL,
  `username` CHAR(128) NULL DEFAULT NULL COMMENT 'Web interface username',
  `last_modified` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `modified_by` CHAR(128) NULL COMMENT 'Last user to modify the row',
  `reported` TIMESTAMP NULL DEFAULT NULL COMMENT 'When was reported to LIMS',
  PRIMARY KEY (`id_mqc_library_outcome_ent`),
  UNIQUE KEY `id_run_UNIQUE` (`id_run`,`position`,`tag_index`),
  KEY `fk_mqc_library_outcome_ent_mqc_outcome_dict1_idx` (`id_mqc_outcome`),
  CONSTRAINT `fk_mqc_library_outcome_ent_mqc_outcome_dict1` FOREIGN KEY (`id_mqc_outcome`) REFERENCES `mqc_outcome_dict` (`id_mqc_outcome`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE = InnoDB
COMMENT = 'Entity table for library manual qc';

--
-- Table structure for table `mqc_library_outcome_hist`
--

DROP TABLE IF EXISTS `mqc_library_outcome_hist`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `mqc_library_outcome_hist` (
  `id_mqc_library_outcome_hist` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `id_run` BIGINT(20) UNSIGNED NOT NULL,
  `position` TINYINT(3) UNSIGNED NOT NULL COMMENT 'Lane',
  `tag_index` BIGINT(20) NOT NULL DEFAULT '-1',
  `id_mqc_outcome` SMALLINT UNSIGNED NOT NULL,
  `username` CHAR(128) NULL DEFAULT NULL COMMENT 'Web interface username',
  `last_modified` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `modified_by` CHAR(128) NULL COMMENT 'Last user to modify the row',
  PRIMARY KEY (`id_mqc_library_outcome_hist`),
  KEY `fk_mqc_library_outcome_hist_mqc_outcome_dict1_idx` (`id_mqc_outcome`),
  CONSTRAINT `fk_mqc_library_outcome_ent_mqc_outcome_dict10` FOREIGN KEY (`id_mqc_outcome`) REFERENCES `mqc_outcome_dict` (`id_mqc_outcome`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE = InnoDB
COMMENT = 'Historic table for library manual qc';

--
-- Table structure for table `offset`
--

DROP TABLE IF EXISTS `offset`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `offset` (
  `id_offset` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `lane` tinyint(1) unsigned NOT NULL,
  `tile` smallint(3) unsigned NOT NULL,
  `cycle` smallint(5) unsigned NOT NULL,
  `image` tinyint(1) unsigned NOT NULL,
  `x` float(8,2) NOT NULL,
  `y` float(8,2) NOT NULL,
  PRIMARY KEY (`id_offset`),
  UNIQUE KEY `unq_idx_run_lane_tile_cycle_image` (`id_run`,`lane`,`tile`,`cycle`,`image`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pulldown_metrics`
--

DROP TABLE IF EXISTS `pulldown_metrics`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pulldown_metrics` (
  `id_pulldown_metrics` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  `path` varchar(256) DEFAULT NULL,
  `comments` text,
  `info` text,
  `pass` tinyint(1) DEFAULT NULL,
  `interval_files_identical` tinyint(1) DEFAULT NULL,
  `bait_path` varchar(256) DEFAULT NULL,
  `bait_territory` bigint(20) unsigned DEFAULT NULL,
  `target_territory` bigint(20) unsigned DEFAULT NULL,
  `total_reads_num` bigint(20) unsigned DEFAULT NULL,
  `unique_reads_num` bigint(20) unsigned DEFAULT NULL,
  `unique_reads_aligned_num` bigint(20) unsigned DEFAULT NULL,
  `unique_bases_aligned_num` bigint(20) unsigned DEFAULT NULL,
  `on_bait_bases_num` bigint(20) unsigned DEFAULT NULL,
  `near_bait_bases_num` bigint(20) unsigned DEFAULT NULL,
  `off_bait_bases_num` bigint(20) unsigned DEFAULT NULL,
  `on_target_bases_num` bigint(20) unsigned DEFAULT NULL,
  `library_size` bigint(20) unsigned DEFAULT NULL,
  `mean_bait_coverage` float unsigned DEFAULT NULL,
  `mean_target_coverage` float unsigned DEFAULT NULL,
  `fold_enrichment` float unsigned DEFAULT NULL,
  `zero_coverage_targets_fraction` float unsigned DEFAULT NULL,
  `other_metrics` text,
  PRIMARY KEY (`id_pulldown_metrics`),
  UNIQUE KEY `unq_run_lane_pdmetrics` (`id_run`,`position`,`tag_index`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `qx_yield`
--

DROP TABLE IF EXISTS `qx_yield`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `qx_yield` (
  `id_qx_yield` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `path` varchar(256) DEFAULT NULL,
  `filename1` varchar(256) DEFAULT NULL,
  `filename2` varchar(256) DEFAULT NULL,
  `threshold_quality` int(10) unsigned NOT NULL,
  `threshold_yield1` int(10) unsigned DEFAULT NULL,
  `threshold_yield2` int(10) unsigned DEFAULT NULL,
  `yield1` int(10) unsigned DEFAULT NULL,
  `yield2` int(10) unsigned DEFAULT NULL,
  `pass` tinyint(1) DEFAULT NULL,
  `comments` text,
  `info` text,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  PRIMARY KEY (`id_qx_yield`),
  UNIQUE KEY `unq_run_lane_qx_yield` (`id_run`,`position`,`tag_index`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `recipe_file`
--

DROP TABLE IF EXISTS `recipe_file`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `recipe_file` (
  `id_recipe_file` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `file_name` varchar(255) NOT NULL,
  `md5` char(32) NOT NULL,
  `xml` mediumtext NOT NULL,
  PRIMARY KEY (`id_recipe_file`),
  UNIQUE KEY `unq_idx_name_md5` (`file_name`,`md5`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ref_match`
--

DROP TABLE IF EXISTS `ref_match`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ref_match` (
  `id_ref_match` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  `path` varchar(256) DEFAULT NULL,
  `aligner_version` varchar(50) DEFAULT NULL,
  `reference_version` text,
  `aligned_read_count` text,
  `sample_read_count` int(10) unsigned DEFAULT NULL,
  `sample_read_length` int(5) unsigned DEFAULT NULL,
  `pass` tinyint(1) DEFAULT NULL,
  `comments` text,
  `info` text,
  PRIMARY KEY (`id_ref_match`),
  UNIQUE KEY `unq_run_lane_ref_match` (`id_run`,`position`,`tag_index`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ref_snp_info`
--

DROP TABLE IF EXISTS `ref_snp_info`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ref_snp_info` (
  `id_ref_snp_info` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `reference` varchar(128) DEFAULT NULL,
  `snp_name` varchar(32) CHARACTER SET latin1 NOT NULL,
  `chr` varchar(16) CHARACTER SET latin1 NOT NULL,
  `pos` int(11) NOT NULL,
  `ref_allele` varchar(64) CHARACTER SET latin1 NOT NULL,
  `alt_allele` varchar(64) CHARACTER SET latin1 NOT NULL,
  `sequenom_plex_name` varchar(32) NOT NULL,
  PRIMARY KEY (`id_ref_snp_info`),
  UNIQUE KEY `unq_ref_chr_pos` (`reference`,`chr`,`pos`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `run_and_pair`
--

DROP TABLE IF EXISTS `run_and_pair`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `run_and_pair` (
  `id_run_and_pair` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `id_run_pair` bigint(20) unsigned DEFAULT NULL,
  PRIMARY KEY (`id_run_and_pair`),
  UNIQUE KEY `unq_idx_runpair_idrun` (`id_run`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `run_config`
--

DROP TABLE IF EXISTS `run_config`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `run_config` (
  `id_run_config` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) NOT NULL,
  `config_text` longtext,
  PRIMARY KEY (`id_run_config`),
  UNIQUE KEY `unq_idx_config_idrun` (`id_run`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='store of internally used additional config';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `run_graph`
--

DROP TABLE IF EXISTS `run_graph`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `run_graph` (
  `id_run_graph` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `end` tinyint(1) unsigned NOT NULL,
  `yield_gb` bigint(20) unsigned DEFAULT NULL,
  `avg_error` float(5,2) DEFAULT NULL,
  `avg_cluster_per_tile` bigint(20) unsigned DEFAULT NULL,
  `avg_cluster_per_tile_raw` bigint(20) unsigned DEFAULT NULL,
  `avg_cluster_per_tile_control` bigint(20) unsigned DEFAULT NULL,
  `avg_cluster_per_tile_raw_control` bigint(20) unsigned DEFAULT NULL,
  `cycle` smallint(5) unsigned DEFAULT NULL,
  PRIMARY KEY (`id_run_graph`),
  UNIQUE KEY `unq_idx_rungraph_idrun_end` (`id_run`,`end`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `run_info`
--

DROP TABLE IF EXISTS `run_info`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `run_info` (
  `id_run_info` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `run_info_xml` text NOT NULL,
  PRIMARY KEY (`id_run_info`),
  UNIQUE KEY `unq_idx_run_info` (`id_run`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `run_recipe`
--

DROP TABLE IF EXISTS `run_recipe`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `run_recipe` (
  `id_run_recipe` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `cycle` smallint(5) unsigned NOT NULL,
  `lane` tinyint(3) unsigned NOT NULL,
  `tile` smallint(5) unsigned NOT NULL,
  `col` tinyint(3) unsigned NOT NULL,
  `first_indexing_cycle` smallint(5) unsigned DEFAULT NULL,
  `last_indexing_cycle` smallint(5) unsigned DEFAULT NULL,
  `cycle_read1` smallint(5) unsigned DEFAULT NULL,
  `cycle_read2` smallint(5) unsigned DEFAULT NULL,
  `id_recipe_file` bigint(20) unsigned DEFAULT NULL,
  PRIMARY KEY (`id_run_recipe`),
  UNIQUE KEY `unq_idx_run` (`id_run`),
  KEY `runrecipe_recipefile_fk` (`id_recipe_file`),
  CONSTRAINT `runrecipe_recipefile_fk` FOREIGN KEY (`id_recipe_file`) REFERENCES `recipe_file` (`id_recipe_file`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `run_tile`
--

DROP TABLE IF EXISTS `run_tile`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `run_tile` (
  `id_run_tile` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `tile` smallint(3) unsigned NOT NULL,
  `position` tinyint(3) unsigned NOT NULL,
  `end` char(1) NOT NULL,
  `row` smallint(3) unsigned DEFAULT NULL,
  `col` tinyint(1) unsigned DEFAULT NULL,
  `avg_newz` float DEFAULT NULL,
  PRIMARY KEY (`id_run_tile`),
  UNIQUE KEY `unq_idx_rt_idrun_end_position_tile` (`id_run`,`end`,`position`,`tile`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COMMENT='table linking a tile to a run and lane position';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `run_timeline`
--

DROP TABLE IF EXISTS `run_timeline`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `run_timeline` (
  `id_run_timeline` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL DEFAULT '0',
  `start_time` datetime DEFAULT NULL,
  `complete_time` datetime DEFAULT NULL,
  `end_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id_run_timeline`),
  UNIQUE KEY `unq_idx_run_timeline_idrun` (`id_run`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `samtools_stats`
--

DROP TABLE IF EXISTS `samtools_stats`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `samtools_stats` (
  `id_samtools_stats` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT 'Auto-generated primary key',
  `id_seq_composition` bigint(20) unsigned NOT NULL COMMENT 'A foreign key referencing the id_seq_composition column of the seq_composition table',
  `filter` varchar(8) NOT NULL COMMENT 'Filter used to produce the stats file',
  `stats` mediumblob NOT NULL COMMENT 'Compressed samtools stats file content',
  PRIMARY KEY (`id_samtools_stats`),
  UNIQUE KEY `unq_seqstats` (`id_seq_composition`,`filter`),
  CONSTRAINT `seq_sum_compos_ss` FOREIGN KEY (`id_seq_composition`) REFERENCES `seq_composition` (`id_seq_composition`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB  DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `seq_component`
--

DROP TABLE IF EXISTS `seq_component`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `seq_component` (
  `id_seq_component` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT 'Auto-generated primary key',
  `id_run` bigint(20) unsigned NOT NULL COMMENT 'Numeric run id',
  `position` tinyint(1) unsigned NOT NULL COMMENT 'Numeric position (lane number)',
  `tag_index` mediumint(8) unsigned DEFAULT NULL COMMENT 'An optional numeric tag index',
  `subset` varchar(10) DEFAULT NULL COMMENT 'An optional sequence subset',
  `digest` char(64) NOT NULL COMMENT 'A SHA256 hex digest of the component JSON representation as defined in npg_tracking::glossary::composition::component',
  PRIMARY KEY (`id_seq_component`),
  UNIQUE KEY `unq_seq_compon_d` (`digest`),
  KEY `unq_seq_compos_rp` (`id_run`,`position`,`tag_index`,`subset`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `seq_component_composition`
--

DROP TABLE IF EXISTS `seq_component_composition`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `seq_component_composition` (
  `id_seq_comcom` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT 'Auto-generated primary key',
  `id_seq_component` bigint(20) unsigned NOT NULL COMMENT 'A foreign key referencing the id_seq_component column of the seq_component table',
  `id_seq_composition` bigint(20) unsigned NOT NULL COMMENT 'A foreign key referencing the id_seq_composition column of the seq_composition table',
  `size` tinyint(3) unsigned NOT NULL COMMENT 'Total number of components in a composition',
  PRIMARY KEY (`id_seq_comcom`),
  UNIQUE KEY `unq_seq_comcom` (`id_seq_component`,`id_seq_composition`),
  KEY `seq_comcom_cmpos` (`id_seq_composition`,`size`),
  CONSTRAINT `seq_comcom_cmpon` FOREIGN KEY (`id_seq_component`) REFERENCES `seq_component` (`id_seq_component`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `seq_comcom_cmpos` FOREIGN KEY (`id_seq_composition`, `size`) REFERENCES `seq_composition` (`id_seq_composition`, `size`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB  DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `seq_composition`
--

DROP TABLE IF EXISTS `seq_composition`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `seq_composition` (
  `id_seq_composition` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT 'Auto-generated primary key',
  `digest` char(64) NOT NULL COMMENT 'A SHA256 hex digest of the JSON representation of the composition as defined in npg_tracking::glossary::composition',
  `size` tinyint(3) unsigned NOT NULL COMMENT 'Total number of components in a composition',
  PRIMARY KEY (`id_seq_composition`),
  UNIQUE KEY `unq_seq_compos_d` (`digest`),
  UNIQUE KEY `unq_seq_compos_ps` (`id_seq_composition`,`size`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sequence_error`
--

DROP TABLE IF EXISTS `sequence_error`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sequence_error` (
  `id_sequence_error` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `path` varchar(256) DEFAULT NULL,
  `forward_read_filename` varchar(256) DEFAULT NULL,
  `reverse_read_filename` varchar(256) DEFAULT NULL,
  `forward_aligned_read_count` int(10) unsigned DEFAULT NULL,
  `forward_errors` text,
  `forward_count` text,
  `forward_n_count` text,
  `reverse_aligned_read_count` int(10) unsigned DEFAULT NULL,
  `reverse_errors` text,
  `reverse_count` text,
  `reverse_n_count` text,
  `forward_quality_bins` text,
  `reverse_quality_bins` text,
  `forward_common_cigars` text,
  `reverse_common_cigars` text,
  `forward_cigar_char_count_by_cycle` text,
  `reverse_cigar_char_count_by_cycle` text,
  `quality_bin_values` text,
  `sample_size` int(10) unsigned DEFAULT NULL,
  `reference` varchar(256) DEFAULT NULL,
  `pass` tinyint(1) DEFAULT NULL,
  `comments` text,
  `info` text,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  `sequence_type` varchar(25) NOT NULL DEFAULT 'default',
  PRIMARY KEY (`id_sequence_error`),
  UNIQUE KEY `unq_rlts_sequence_error` (`id_run`,`position`,`tag_index`,`sequence_type`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sequence_summary`
--

DROP TABLE IF EXISTS `sequence_summary`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sequence_summary` (
  `id_sequence_summary` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT 'Auto-generated primary key',
  `id_seq_composition` bigint(20) unsigned NOT NULL COMMENT 'A foreign key referencing the id_seq_composition column of the seq_composition table',
  `sequence_format` varchar(6) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Sequencing file format, e.g. SAM, BAM',
  `header` text COLLATE utf8_unicode_ci NOT NULL COMMENT 'File header, excluding SQ lines, the field is searchable',
  `seqchksum` text COLLATE utf8_unicode_ci NOT NULL COMMENT 'Alignment and header independent sequence file digest, see bamseqchksum in https://github.com/wtsi-npg/biobambam, default checksum',
  `seqchksum_sha512` text COLLATE utf8_unicode_ci NOT NULL COMMENT 'Alignment and header independent sequence file digest, see bamseqchksum in https://github.com/wtsi-npg/biobambam, sha512primesums512 checksum',
  `md5` char(32) COLLATE utf8_unicode_ci NOT NULL COMMENT 'md5 of the sequence file',
  `date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Date the record was created',
  `iscurrent` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT 'Boolean flag to indicate that the record is current, defaults to 1',
  PRIMARY KEY (`id_sequence_summary`),
  KEY `seq_sum_compos` (`id_seq_composition`),
  CONSTRAINT `seq_sum_compos` FOREIGN KEY (`id_seq_composition`) REFERENCES `seq_composition` (`id_seq_composition`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `signal_mean`
--

DROP TABLE IF EXISTS `signal_mean`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `signal_mean` (
  `id_signal_mean` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(3) unsigned NOT NULL,
  `cycle` smallint(5) unsigned NOT NULL,
  `all_a` float(10,2) NOT NULL DEFAULT '0.00',
  `all_c` float(10,2) NOT NULL DEFAULT '0.00',
  `all_g` float(10,2) NOT NULL DEFAULT '0.00',
  `all_t` float(10,2) NOT NULL DEFAULT '0.00',
  `call_a` float(10,2) NOT NULL DEFAULT '0.00',
  `call_c` float(10,2) NOT NULL DEFAULT '0.00',
  `call_g` float(10,2) NOT NULL DEFAULT '0.00',
  `call_t` float(10,2) NOT NULL DEFAULT '0.00',
  `base_a` float(10,2) NOT NULL DEFAULT '0.00',
  `base_c` float(10,2) NOT NULL DEFAULT '0.00',
  `base_g` float(10,2) NOT NULL DEFAULT '0.00',
  `base_t` float(10,2) NOT NULL DEFAULT '0.00',
  PRIMARY KEY (`id_signal_mean`),
  UNIQUE KEY `unq_idx` (`id_run`,`position`,`cycle`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `spatial_filter`
--

DROP TABLE IF EXISTS `spatial_filter`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `spatial_filter` (
  `id_spatial_filter` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `path` varchar(256) DEFAULT NULL,
  `info` text,
  `num_spatial_filter_fail_reads` bigint(20) unsigned DEFAULT NULL,
  `num_total_reads` bigint(20) unsigned DEFAULT NULL,
  PRIMARY KEY (`id_spatial_filter`),
  UNIQUE KEY `unq_run_lane_spatial_filter` (`id_run`,`position`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `split_stats`
--

DROP TABLE IF EXISTS `split_stats`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `split_stats` (
  `id_split_stats` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `path` varchar(256) DEFAULT NULL,
  `filename1` varchar(256) DEFAULT NULL,
  `filename2` varchar(256) DEFAULT NULL,
  `ref_name` varchar(50) NOT NULL,
  `reference` varchar(256) NOT NULL,
  `num_aligned1` bigint(20) unsigned DEFAULT NULL,
  `num_not_aligned1` bigint(20) unsigned DEFAULT NULL,
  `alignment_depth1` text,
  `num_aligned2` bigint(20) unsigned DEFAULT NULL,
  `num_not_aligned2` bigint(20) unsigned DEFAULT NULL,
  `alignment_depth2` text,
  `num_aligned_merge` bigint(20) unsigned DEFAULT NULL,
  `num_not_aligned_merge` bigint(20) unsigned DEFAULT NULL,
  `pass` tinyint(1) DEFAULT NULL,
  `comments` text,
  `info` text,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  PRIMARY KEY (`id_split_stats`),
  UNIQUE KEY `unq_run_lane_split_stats` (`id_run`,`position`,`tag_index`,`ref_name`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `split_stats_coverage`
--

DROP TABLE IF EXISTS `split_stats_coverage`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `split_stats_coverage` (
  `id_split_stats_coverage` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_split_stats` bigint(20) unsigned NOT NULL,
  `chromosome` varchar(20) NOT NULL,
  `fastq` tinyint(1) unsigned NOT NULL,
  `coverage` float(8,4) unsigned DEFAULT NULL,
  PRIMARY KEY (`id_split_stats_coverage`),
  UNIQUE KEY `unq_split_chromosome_coverage` (`id_split_stats`,`fastq`,`chromosome`),
  CONSTRAINT `fk_constraint_split_chromosome` FOREIGN KEY (`id_split_stats`) REFERENCES `split_stats` (`id_split_stats`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `tag_decode_stats`
--

DROP TABLE IF EXISTS `tag_decode_stats`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tag_decode_stats` (
  `id_tag_decode_stats` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  `path` varchar(256) DEFAULT NULL,
  `tag_code` text,
  `distribution_all` text,
  `distribution_good` text,
  `errors_all` text,
  `errors_good` text,
  `pass` tinyint(1) DEFAULT NULL,
  `comments` text,
  `info` text,
  PRIMARY KEY (`id_tag_decode_stats`),
  UNIQUE KEY `unq_run_lane_index_decoding` (`id_run`,`position`,`tag_index`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `tag_metrics`
--

DROP TABLE IF EXISTS `tag_metrics`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tag_metrics` (
  `id_tag_metrics` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `path` varchar(256) DEFAULT NULL,
  `metrics_file` varchar(256) DEFAULT NULL,
  `barcode_tag_name` varchar(8) DEFAULT NULL,
  `tags` text,
  `reads_count` text,
  `reads_pf_count` text,
  `perfect_matches_count` text,
  `perfect_matches_pf_count` text,
  `one_mismatch_matches_count` text,
  `one_mismatch_matches_pf_count` text,
  `matches_percent` text,
  `matches_pf_percent` text,
  `spiked_control_index` bigint(20) DEFAULT NULL,
  `max_mismatches_param` int(1) unsigned DEFAULT NULL,
  `min_mismatch_delta_param` int(1) unsigned DEFAULT NULL,
  `max_no_calls_param` int(1) unsigned DEFAULT NULL,
  `pass` tinyint(1) DEFAULT NULL,
  `comments` text,
  `info` text,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  PRIMARY KEY (`id_tag_metrics`),
  UNIQUE KEY `unq_run_lane_tagmetrics` (`id_run`,`position`,`tag_index`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `tags_reporters`
--

DROP TABLE IF EXISTS `tags_reporters`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tags_reporters` (
  `id_tags_reporters` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  `tags_file` varchar(128) DEFAULT NULL,
  `amps_file` varchar(128) DEFAULT NULL,
  `path` varchar(256) DEFAULT NULL,
  `info` text,
  `tag_list` text,
  `tag_totals` text,
  `tag_totals_pct` text,
  `amp_rows` text,
  `pass` tinyint(1) DEFAULT NULL,
  `comments` text,
  PRIMARY KEY (`id_tags_reporters`),
  UNIQUE KEY `unq_run_lane_tagsreporters` (`id_run`,`position`,`tag_index`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `tile_score`
--

DROP TABLE IF EXISTS `tile_score`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tile_score` (
  `id_tile_score` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run_tile` bigint(20) unsigned NOT NULL,
  `base_count` int(10) unsigned NOT NULL DEFAULT '0',
  `error_count` int(10) unsigned NOT NULL DEFAULT '0',
  `blank_count` int(10) unsigned NOT NULL DEFAULT '0',
  `unique_alignments` int(10) unsigned NOT NULL DEFAULT '0',
  `ua_total_score` int(10) unsigned NOT NULL DEFAULT '0',
  `cycles` tinyint(3) unsigned NOT NULL DEFAULT '0',
  `rescore` tinyint(1) NOT NULL DEFAULT '0',
  `score_version` float(5,2) NOT NULL DEFAULT '0.00',
  `score_date_run` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `phagealign_version` float(5,2) NOT NULL DEFAULT '0.00',
  `phagealign_date_run` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `max_blanks` smallint(4) unsigned NOT NULL DEFAULT '0',
  `seq_length` smallint(4) unsigned NOT NULL DEFAULT '0',
  `genome_file` varchar(255) DEFAULT NULL,
  `bases_used` text NOT NULL,
  `qualityfilter_version` float(5,2) DEFAULT NULL,
  `qualityfilter_date_run` datetime DEFAULT NULL,
  `filter_criterion` text,
  PRIMARY KEY (`id_tile_score`),
  UNIQUE KEY `unq_idx_rt_rescore` (`id_run_tile`,`rescore`),
  KEY `ts_rt` (`id_run_tile`),
  CONSTRAINT `ts_rt` FOREIGN KEY (`id_run_tile`) REFERENCES `run_tile` (`id_run_tile`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `upstream_tags`
--

DROP TABLE IF EXISTS `upstream_tags`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `upstream_tags` (
  `id_upstream_tags` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `barcode_file` varchar(128) DEFAULT NULL,
  `path` varchar(256) DEFAULT NULL,
  `unexpected_tags` text,
  `prev_runs` text,
  `tag_length` int(4) DEFAULT NULL,
  `total_lane_reads` bigint(20) DEFAULT NULL,
  `perfect_match_lane_reads` bigint(20) DEFAULT NULL,
  `tag0_perfect_match_reads` bigint(20) DEFAULT NULL,
  `total_tag0_reads` bigint(20) DEFAULT NULL,
  `instrument_name` text,
  `instrument_slot` text,
  `pass` tinyint(1) DEFAULT NULL,
  `comments` text,
  `info` text,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  PRIMARY KEY (`id_upstream_tags`),
  UNIQUE KEY `unq_run_lane_upstreamtags` (`id_run`,`position`,`tag_index`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `verify_bam_id`
--

DROP TABLE IF EXISTS `verify_bam_id`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `verify_bam_id` (
  `id_verify` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `id_run` bigint(20) unsigned NOT NULL,
  `position` tinyint(1) unsigned NOT NULL,
  `path` varchar(256) DEFAULT NULL,
  `number_of_snps` int(11) DEFAULT NULL,
  `number_of_reads` int(11) DEFAULT NULL,
  `avg_depth` decimal(11,2) NOT NULL DEFAULT '0.00',
  `freemix` decimal(11,5) NOT NULL DEFAULT '0.00000',
  `freeLK0` decimal(11,2) NOT NULL DEFAULT '0.00',
  `freeLK1` decimal(11,2) NOT NULL DEFAULT '0.00',
  `pass` tinyint(1) DEFAULT NULL,
  `comments` text,
  `info` text,
  `tag_index` bigint(20) NOT NULL DEFAULT '-1',
  PRIMARY KEY (`id_verify`),
  UNIQUE KEY `unq_run_lane_verify` (`id_run`,`position`,`tag_index`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2015-09-22 12:12:29
